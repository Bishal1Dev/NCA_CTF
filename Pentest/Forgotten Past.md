Event: NCA CTF  
Category: #Pentest #Easy 

---

## ğŸ“Œ Challenge Information

- Points: 228
    
- Difficulty: #Easy
    
- Credentials:
    
    - Username: `ctfplayer
        
    - Password: `ctfplayer
        

---

## ğŸ“ Challenge Description

I found an old ZIP file on my system, but I canâ€™t remember the password I used to decrypt it.

Can you help me recover the password and unlock whatâ€™s inside?

---

# ğŸ” Initial Enumeration

### Step 1 â€“ Connect via SSH

```bash
ssh ctfplayer@challenge.ncateam.xyz -p 34478
```

Logged in successfully as `ctfplayer`.

---

### Step 2 â€“ Basic File Listing

```bash
ls
```

Output:

```
important_file.zip
s
```

---

### Step 3 â€“ Detailed Enumeration

```bash
ls -la
```

Found:

- `.ash_history`

- `important_file.zip`

- `password_note.txt` (after extraction)


---

### Step 4 â€“ Check Shell History

```bash
cat .ash_history
```

Important discovery:

```
unzip -P '84Og%9?=EEq|' important_file.zip
```

This reveals the previously used ZIP password.

---

## ğŸ‘€ Observations

- The ZIP file was password-protected.

- The password was stored indirectly in `.ash_history`.

- The user had previously extracted the file using a specific password.

- Shell history is often overlooked but extremely valuable.


---

# ğŸš§ Problem Identified

The ZIP file `important_file.zip` was encrypted, and no direct password hint was visible in plain files.

The key trick:

- Checking hidden files

- Reviewing `.ash_history`

- Recovering previously used command arguments


This is a classic **"forgotten password recovered via shell history"** challenge.

---

# ğŸ›  Exploitation / Solution

## Method Used â€“ Recover Password from History

Extract ZIP using the recovered password:

```bash
unzip -P '84Og%9?=EEq|' important_file.zip
```

Output:

```
extracting: password_note.txt
```

Now check its contents:

```bash
cat password_note.txt
```

Output:

```
C7FAdm!n
```

This revealed credentials for another user.

---

## Privilege Escalation

Check available users:

```bash
cat /etc/passwd | grep sh$
```

Found:

```
ctfadmin
```

Login as `ctfadmin`:

```bash
ssh ctfadmin@challenge.ncateam.xyz -p 34478
```

Password:

```
C7FAdm!n
```

---

# ğŸ“¤ Command Used to Retrieve the Flag

```bash
cat flag.txt
```

Output:

```
NCA{5He1l_aLw4YS_Rem3BeR_WH47_W3_dID_51b0c3ad82a4}
```

---

# ğŸš© Final Flag

```
NCA{5He1l_aLw4YS_Rem3BeR_WH47_W3_dID_51b0c3ad82a4}
```

---

# ğŸ§  Key Takeaways

- Always check `.ash_history` or `.bash_history`.

- Hidden files can contain critical forensic evidence.

- Never store passwords directly in command history.

- Enumeration is the most powerful tool in CTFs.


---

# ğŸ“š Skills Practiced

- Linux Enumeration

- Shell History Analysis

- ZIP File Extraction with Password

- Credential Discovery

- SSH Login & Privilege Escalation


---

# ğŸ Personal Reflection

Next time, I will immediately inspect hidden files and shell history before attempting brute force. This challenge reinforces that **good enumeration beats guessing every time.**